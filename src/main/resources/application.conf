# OpenSearch Natural Language Query POC Configuration
#
# AWS CREDENTIALS CONFIGURATION:
# ===============================
# AWS credentials are NOT set in this file. The application uses AWS SDK's 
# DefaultCredentialsProvider which automatically looks for credentials in this order:
#
# 1. Environment Variables:
#    export AWS_ACCESS_KEY_ID=your_access_key
#    export AWS_SECRET_ACCESS_KEY=your_secret_key
#    export AWS_SESSION_TOKEN=your_session_token  # (if using temporary credentials)
#
# 2. AWS Credentials File (~/.aws/credentials):
#    [default]
#    aws_access_key_id = your_access_key
#    aws_secret_access_key = your_secret_key
#
# 3. AWS Config File (~/.aws/config):
#    [default]
#    region = us-east-1
#
# 4. IAM Role (if running on EC2/ECS/Lambda)
#
# To configure credentials, use one of these methods:
# - Run: aws configure
# - Set environment variables (see above)
# - Use IAM role if running on AWS infrastructure
#
# Required IAM Permissions:
# - For OpenSearch: es:ESHttpGet, es:ESHttpPost, es:ESHttpPut
# - For Bedrock: bedrock:InvokeModel (if using LLM conversion)

# AWS OpenSearch Configuration
opensearch {
  endpoint = ""  # Set via OPENSEARCH_ENDPOINT env var (e.g., https://search-domain.us-east-1.es.amazonaws.com)
  defaultIndex = "documents"  # Default index to search
  maxResults = 10  # Maximum number of results to return
  connectionTimeout = 5000  # Connection timeout in milliseconds
  socketTimeout = 10000  # Socket timeout in milliseconds
}

# AWS Configuration
aws {
  region = "us-east-1"  # AWS region (can be overridden by AWS_REGION env var)
}

# Natural Language to DSL Conversion
nl {
  conversion {
    # Set to true to use LLM (AWS Bedrock) for conversion, false for rule-based
    useLLM = false
    
    bedrock {
      # AWS Bedrock model ID (e.g., anthropic.claude-3-sonnet-20240229-v1:0)
      # Common models:
      # - anthropic.claude-3-sonnet-20240229-v1:0 (Claude 3 Sonnet)
      # - anthropic.claude-3-haiku-20240307-v1:0 (Claude 3 Haiku - faster, cheaper)
      # - anthropic.claude-3-opus-20240229-v1:0 (Claude 3 Opus - most capable)
      # - amazon.titan-text-express-v1 (Amazon Titan)
      modelId = "anthropic.claude-3-sonnet-20240229-v1:0"  # Set via BEDROCK_MODEL_ID env var
      region = ""  # Set via BEDROCK_REGION env var (defaults to AWS_REGION)
    }
  }
}

